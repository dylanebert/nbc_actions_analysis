<html lang="en">
<head>
	<meta charset="utf-8">
	<title>NBC Actions Analysis</title>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-colorschemes"></script>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<style>
html, body {
	font-family: 'Open Sans', sans-serif;
	width: 100%;
	height: 100%;
}
p {
	font-size: 1.3em;
}
.head {
	padding-top: 50px;
	padding-bottom: 10px;
	padding-left: 30px;
	position: relative;
	width: 100%;
}
h1 {
	text-transform: uppercase;
	letter-spacing: 1px;
	font-size: 3.5em;
}
h2 {
	font-weight: bold;
	font-size: 1.8em;
}
h3 {
	font-weight: bold;
	font-size: 1.5em;
}
.page-footer {
	padding: 50px;
	background-color: #eeeeee;
}
</style>
<body>
<div class="container">
	<div class="head">
		<h1>NBC Actions Analysis</h1>
	</div>
	<div class="panel-group">
		<div class="panel panel-default">
			<div class="panel-heading"><h2>Actions</h2></div>
			<div class="panel-body">
				<p>BP-AR-HMM is used to segment our continuous spatial data into discrete action sequences.
					The inputs to BP-AR-HMM are hand position (3d euclidean) and rotation
					(4d quaternion). I use only the hand with the greatest variation in position for each
					session, as a proxy for dominant hand.</p>
				<p>The distribution of actions, after filtering out actions with fewer than 20 occurrences, is:</p>
				<div style="height: 400px">
					<canvas id="actionDistributionCanvas" width="400" height="400"></canvas>
				</div>
				<p>We want to incorporate some information about actions as they relate to objects
					in the world. However, we don't want to explicitly identify objects for the time being. So,
					each action is split into 2, based on whether that action trajectory
					ends on any object, or not. If an action ends near an object, an offset of +18 is added to the action id.
					This results in the following action distribution:</p>
					<div style="height: 400px">
						<canvas id="endDistributionCanvas" width="400" height="400"></canvas>
					</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading"><h2>Words</h2></div>
			<div class="panel-body">
				<p>Alongside actions are all lemmatized words occurring at least 20 times in our dataset.
					The distribution of the 15 most frequent word lemmas is:</p>
				<div style="height: 400px">
					<canvas id="wordsCanvas" width="400" height="400"></canvas>
				</div>
				<p>Additionally, the distribution of words from our list of target words is:</p>
				<div style="height: 400px">
					<canvas id="ourWordsCanvas" width="400" height="400"></canvas>
				</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading"><h2>Cooccurrence</h2></div>
			<div class="panel-body">

			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading"><h2>Case Study</h2></div>
			<div class="panel-body">

			</div>
		</div>
	</div>
	<footer class="page-footer">
		<div class="footer-copyright text-center py-3"><a href="http://dylanebert.com">Dylan Ebert</a></div>
	</footer>
</div>
</body>
<script>
var ctx = $('#actionDistributionCanvas')
var actionDistribution = new Chart(ctx, {
	type: 'bar',
	data: {
		labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '15'],
		datasets: [{
			label: '# of Occurrences',
		    data: [3423, 2134, 4484, 904, 1707, 886, 1084, 1237, 829, 35],
			backgroundColor: '#e74c3c'
		}]
	},
	options: {
		reponsive: true,
		maintainAspectRatio: false,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}],
			xAxes: [{
				scaleLabel: {
					display: true,
					labelString: 'action id'
				}
			}]
		}
	}
})

var ctx = $('#endDistributionCanvas')
var endDistribution = new Chart(ctx, {
	type: 'bar',
	data: {
		labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '15', '19', '20', '21', '22', '23', '24', '25', '26', '27'],
		datasets: [{
			label: '# of Occurrences',
		    data: [683, 692, 835, 252, 249, 365, 371, 338, 300, 35, 2740, 1442, 3649, 652, 1458, 521, 713, 899, 529],
			backgroundColor: '#3498db'
		}]
	},
	options: {
		reponsive: true,
		maintainAspectRatio: false,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}],
			xAxes: [{
				scaleLabel: {
					display: true,
					labelString: 'action id (endpoint-clustered)'
				}
			}]
		}
	}
})

var ctx = $('#wordsCanvas')
var endDistribution = new Chart(ctx, {
	type: 'bar',
	data: {
		labels: ['-PRON-', 'be', 'the', 'and', 'to', 'go', 'a', 'up', 'put', 'so', 'that', 'have', 'on', 'pick', 'in'],
		datasets: [{
			label: '# of Occurrences',
		    data: [1283, 604, 316, 316, 301, 228, 196, 182, 177, 174, 150, 147, 142, 140, 139],
			backgroundColor: '#9b59b6'
		}]
	},
	options: {
		reponsive: true,
		maintainAspectRatio: false,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}],
			xAxes: [{
				scaleLabel: {
					display: true,
					labelString: 'most frequent words'
				}
			}]
		}
	}
})

var ctx = $('#ourWordsCanvas')
var endDistribution = new Chart(ctx, {
	type: 'bar',
	data: {
		labels: ['pick', 'put', 'get', 'drop', 'throw', 'hold', 'go', 'take', 'eat', 'drink', 'wash', 'play', 'cut', 'peel', 'roll'],
		datasets: [{
			label: '# of Occurrences',
		    data: [140, 177, 81, 18, 24, 22, 228, 60, 76, 22, 30, 41, 7, 21, 13],
			backgroundColor: '#34495e'
		}]
	},
	options: {
		reponsive: true,
		maintainAspectRatio: false,
		scales: {
			yAxes: [{
				ticks: {
					beginAtZero: true
				}
			}],
			xAxes: [{
				scaleLabel: {
					display: true,
					labelString: 'target words'
				}
			}]
		}
	}
})
</script>
</html>
